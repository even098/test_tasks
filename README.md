# Тестовые задания


## Задание 1: Развертывание веб-сервера и написание PowerShell скриптов.
### Описание задачи
1. Развернуть веб-хост http://localhost на локальном компютере используя веб сервер (apache или nginx или IIS) и разместить на нем паролированный архив test.zip который содержит исполняемый файл write.exe и PowerShell скрипт hash.ps1, а также разместить веб-страницу index.html которая содержит вычисленное хеш-значение файла test.zip по алгоритму SHA256
2. В PowerShell скрипте hash.ps1 необходимо реализовать: 
    - сравнение хеш-значения загруженного файла test.zip со значением из веб страницы
    - остановку работы write.exe, удаление разархивированных файлов write.exe и hash.ps1, а также архива test.zip, если хеш-значения не совпадают
    - выполнение действий в пунктах 3.1, 3.2
3. Создать PowerShell скрипт main.ps1 которая выполняет следующие действия:
    - Скачивает архивированный файл test.zip (3.1)
    - Разархивирует содержание архива test.zip в домашнюю директорию пользователя (3.2)
    - Вносит в "Планировщик задач" новую задачу с названием TimeToWrite, которая ежедневно в 12:00 будет запускать разархивированный файл write.exe и PowerShell скрипт hash.ps1


### Шаги выполнения
1. Развертывание веб-сервера.  
Для выполнения задания использован Nginx, развернутый в Docker контейнере. Для этого использован внешний IP адрес, так как доступ через localhost не был возможен. Nginx настроен для раздачи архива test.zip по адресу http://\<IP\>/test.zip.
2. Создание веб-страницы.  
Веб-страница - `task1/index.html` содержит вычисленное хеш-значение файла test.zip по алгоритму SHA256. 
3. PowerShell скрипт `task1/hash.ps1`.  
Скрипт проверяет хеш-значение загруженного архива с тем, что указано на веб-странице. В случае несоответствия хешей, выполняется остановка процесса write.exe, удаление всех файлов (архива, скриптов) и повторная загрузка архива.
4. PowerShell скрипт `task1/main.ps1`.  
Скрипт берет IP адрес интерфейса Ethernet 2 и подставляет под строку http://\<IP\>/test.zip, после чего отправляется запрос для сохранения файла test.zip в домашней директории пользователя с дальнейшим его разархивированием. После разархивации скрипт вносит в "Планировщик Задач" два разархивированных файла - `task1/hash.ps1` и `write.exe`, они будут выполняться ежедневно в 12:00.


### Как запустить
1. Если есть Docker Desktop, заходим в него и авторизуемся (если нет, скачиваем через [официальный сайт](https://www.docker.com/products/docker-desktop/). После, в терминале докера вводим `docker pull even098/test_task_1_2:latest` для пулла image nginx сервера. Нажимаем на кнопку "Запустить", в дополнительных параметрах ставим Host port на 80 и любое имя. 
2. После запуска контейнера, скачиваем - `task1/main.ps1` и запускаем через **Windows Powershell ISE**.
3. Для проверки работоспособности, можно в файлах nginx изменить значение хэша в index.html, который лежит по пути `/usr/share/nginx/html/` и самостоятельно запустить `hash.ps1`.

---
## Задание 2: Развертывание веб-сервера и выгрузка `.txt`, `.xml`, `.xlsx` файлов добавленных или измененных за последние сутки.
### Описание задачи
1. Развернуть веб-хост http://localhost на локальном компютере используя веб сервер (apache или nginx или IIS) и раместить на нем директорию с названием uploads
2. Разработать программу на любом компилируемом языке со следующим функционалом:
    - призводит проверку "Планировщика задач" на наличие задачи с названием TimeToPack, если задачи с таким названием нет, то создать с указанием времени 12:00 и действия с запуском этой же программы
    - проверяет изменения файловой системы за последние сутки
    - архивирует все новые и измененные файлы с расширениями .txt, .csv и .xlsx в архив установив как название текущую дату в формате "YYYY-MM-DD" и пароль в формате "DD/MM/YYYY.--"
    - выгружает сформированный архив по адресу http://localhost/uploads


### Шаги выполнения
1. Развертывание веб-сервера.  
Для выполнения этого задания использован тот же веб-сервер на Nginx, развернутый на docker-container что и в первом задании. Директория `uploads` создана по пути `/var/www/uploads/`. Вместо localhost использован внешний IP адрес (IP интейрфейса Ethernet 2), так как доступ через localhost не был возможен. Nginx настроен для сохранения файлов, отправленные через **POST** запрос на адрес `http://\<IP\>/uploads` (Файлы сохраняются по пути `/var/www/uploads/file_name/upload/`)
2. Программа `task2/task2.exe`.  
Программа `task2/task2.exe` была написана на языке Python, с использованием различных библиотек для управления "Планировщиком задач Windows", проверки изменения файловой системы (для Windows я выбрал сканировать диск C), архивирования найденных файлов и для выгружения файла по указанному адресу.


### Как запустить
1. Запускаем тот же контейнер, что и на первой задаче (если нет контейнера, пуллим его через команду `docker pull even098/test_task_1_2:latest`). 
2. Запускаем файл `task2/task2.exe`. Результат выполнения программы будет выводиться в окне.

---
## Задание 3: Развертывание утилиты **NetCat** в качестве сервера приема и передачи сообщений по TCP.
### Описание задачи
1. Развернуть утилиту NetCat в качестве сервера для приема и передачи сетевых сообщений по ТСР протоколу и IP адресу 127.0.0.1
2. Разработать программу на любом компилируемом языке со следующим функционалом:
    - подключается к серверу по заданному IP адресу и порту
    - выполняет команды полученные от сервера в командной строке
    - отправляет результат выполненной команды к серверу


### Шаги выполнения
1. Развертывание NetCat в качестве сервера приема/передачи сообщений по TCP.  
Для этого можно использовать чистую утилиту Netcat, без дополнительных конифгураций, запущенный с флагом -l и указанием аргумента port (порт, который будет прослушиваться).
2. Программа для подключения и выполнения команд `task3/task3.exe`.  
Программа написана на Python, с использованием библиотек `socket` для подключения к Netcat и `subprocess` для выполнения команд в командной строке. Была скомпилирована через библиотеку **Pyinstaller**.


### Как запустить
1. Скачиваем **netcat** и запускаем с указанием нужных флагов и любого порта, который будет прослушиваться.
    - Для Linux: `nc -l <port>`.
    - Для Windows: `ncat -l -p <port>`
2. Запускаем скрипт или уже скомпилированную программу `task3/task3.exe`. Вводим IP адрес, который просушивает netcat сервер и порт.
3. Теперь можем выполнять доступные в комнадной строке Windows команды через терминал, с запущенным netcat. Результат выполнения так же будет отображаться в этом же терминале.
> Важно! Поскольку **subprocess** использует подход с помощью сессий (после выполнения команды сессия сбрасывается), команды по типу `cd`, `set`, `cls`, `exit` выполняются некорректно.


---
## Задание 4: Создание чата в Telegram и написание программы для проверки хэшей.
### Описание задачи
1. Создать чат в мессенджере Telegram и разместить на нем паролированный архив test.zip который содержит исполняемый файлы write.exe и  hash.exe, а также разместить сообщение которая содержит вычисленное хеш-значение файла test.zip по алгоритму SHA256;
2. Используя любой компилируемый язык разработать программу hash.exe со следующим функционалом:
    - сравнение хеш-значения загруженного файла test.zip со значением последнего сообщения из чата мессенджера Telegram
    - остановку работы write.exe, удаление разархивированных файлов write.exe и hash.exe, а также архива test.zip, если хеш-значения не совпадают
    - выполнение действий в пунктах 3.1, 3.2
3. Используя любой компилируемый язык разработать программу main.exe которая выполняет следующие действия:
    - Скачивает архивированный файл test.zip из чата мессенджера Telegram
    - Разархивирует содержание архива test.zip в домашнюю директорию пользователя
    - Вносит в "Планировщик задач" новую задачу с названием TimeToWrite, которая ежедневно в 12:00 будет запускать разархивированные файлы write.exe и hash.exe


### Шаги выполнения
1. Создание чата Telegram.  
Создал [канал в телеграм](t.me/test_task_4), и загрузил туда заранее подготовленный файл `task4/test.zip`. И его хэш-значение, вычисленный по алгоритму SHA256. Файл содержит `write.exe` и `task4/hash.exe`.
2. Программа `task4/main.exe`.  
    - Скачивает архивированный файл test.zip 
    - Разархивирует содержание архива test.zip в домашнюю директорию пользователя
    - Вносит в "Планировщик задач" новую задачу с названием TimeToWrite, которая ежедневно в 12:00 будет запускать разархивированный файл write.exe и программу `task4/hash.exe`.
3. Программа `task4/hash.exe`.  
Программа проверяет хеш-значение загруженного архива из чата телеграм с тем, что указано в последнем сообщении канала. В случае несоответствия хешей, выполняется остановка процесса write.exe, удаление всех файлов (архива, скриптов) и повторная загрузка архива.
    


### Как запустить

---
## Задание 5: Создание чата в Telegram и написание программы для выгрузки `.txt`, `.xml`, `.xlsx` файлов добавленных или измененных за последние сутки.
### Описание задачи
1. Создать чат в мессенджере Telegram
2. Разработать программу на любом компилируемом языке со следующим функционалом:
    - призводит проверку "Планировщика задач" на наличие задачи с названием TimeToPack, если задачи с таким названием нет, то создать с указанием времени 12:00 и действия с запуском этой же программы
    - проверяет изменения файловой системы за последние сутки
    - архивирует все новые и измененные файлы с расширениями .txt, .csv и .xlsx в архив установив как название текущую дату в формате "YYYY-MM-DD" и пароль в формате "DD/MM/YYYY.--"
    - выгружает сформированный архив в чат мессенджере Telegram


### Шаги выполнения



### Как запустить

---
## Задание 6: Программа для скачивания архива, его распаковки и запуска `.exe` файла.
### Описание задачи
1. На хосте (пример: https://127.0.0.1) находится архив защищенный паролем. (архив может быть rar.zip. или же tar.). Пример: https://127.0.0.1/test.rar (или zip., tar)
2. Код программы должен скачать файл на путь %appdata% из выше указанного хоста (https://127.0.0.1/test.rar) архив защищенный паролем. После разархивировать его и запустить `*.exe` файл


### Шаги выполнения



### Как запустить


