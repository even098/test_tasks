# Тестовые задания


## Задание 1: Развертывание веб-сервера и создание паролированного архива с хеш-значением
### Описание задачи
Необходимо развернуть веб-сервер на локальном компьютере (с использованием Apache, Nginx или IIS) и разместить на нем паролированный архив test.zip, который содержит следующие файлы:
Исполняемый файл write.exe
PowerShell скрипт hash.ps1
Кроме того, требуется разместить веб-страницу index.html, которая будет содержать хеш-значение архива test.zip, вычисленное с использованием алгоритма SHA256.


### Шаги выполнения
#### Развертывание веб-сервера
Для выполнения задания использован Nginx, развернутый в Docker контейнере. Для этого использован внешний IP адрес, так как доступ через localhost не был возможен. Nginx настроен для раздачи архива test.zip по адресу http://<IP>/test.zip.
#### Создание веб-страницы 
Веб-страница - `task1/index.html` содержит вычисленное хеш-значение файла test.zip по алгоритму SHA256. 
#### PowerShell скрипт - `hash.ps1`
Скрипт проверяет хеш-значение загруженного архива с тем, что указано на веб-странице. В случае несоответствия хешей, выполняется остановка процесса write.exe, удаление всех файлов (архива, скриптов) и повторная загрузка архива.
#### PowerShell скрипт - `main.ps1`
Скрипт берет IP адрес интерфейса Ethernet 2 и подставляет под строку http://<IP>/test.zip, после чего отправляется запрос для сохранения файла test.zip в домашней директории пользователя с дальнейшим его разархивированием. После разархивации скрипт вносит в "Планировщик Задач" два разархивированных файла - `task1/hash.ps1` и write.exe, они будут выполняться ежедневно в 12:00.


### Как запустить
**1.** Если есть Docker Desktop, заходим в него и авторизуемся (если нет, скачиваем через [официальный сайт](https://www.docker.com/products/docker-desktop/). После, в терминале вводим `docker pull even098/test_task_1_2:latest` для пулла image nginx сервера. Нажимаем на кнопку "Запустить", в дополнительных параметрах ставим Host port на 80 и любое имя. 
**2.** После запуска контейнера, скачиваем - `task1/main.ps1` и запускаем через **Windows Powershell ISE**.
**3.** Для проверки работоспособности, можно в файлах nginx изменить значение хэша в index.html, который лежит по пути `/usr/share/nginx/html/` и самостоятельно запустить `hash.ps1`.
